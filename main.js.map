{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/components/api.js","webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/components/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["const config = {\r\n  baseUrl: 'https://nomoreparties.co/v1/wff-cohort-42',\r\n  headers: {\r\n    authorization: 'baf2e86d-8a0c-4d94-956b-24917589976e',\r\n    'Content-Type': 'application/json'\r\n  }\r\n};\r\n\r\nconst getResponseData = (res) => {\r\n  return res.ok \r\n    ? res.json()\r\n    : Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport const getInitialCards = () => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    headers: config.headers\r\n  })\r\n  .then(getResponseData);\r\n};\r\n\r\nexport const renderCard = ({name, link}) => {\r\n  return fetch(`${config.baseUrl}/cards` , {\r\n    method: \"POST\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name,\r\n      link\r\n    })\r\n  })\r\n  .then(getResponseData)\r\n};\r\n\r\nexport const removeCard = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/${cardId}`, {\r\n    method: \"DELETE\",\r\n    headers: config.headers,\r\n  })\r\n  .then(getResponseData);\r\n};\r\n\r\nexport const getUserInfo = () => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    headers: config.headers,\r\n  })\r\n  .then(getResponseData)\r\n};\r\n\r\nexport const setUserInfo = ({name, about}) => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name,\r\n      about,\r\n    })\r\n  })\r\n  .then(getResponseData)\r\n};\r\n\r\nexport const setUserAvatar = ({avatar}) => {\r\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      avatar\r\n    })\r\n  })\r\n  .then(getResponseData)\r\n};\r\n\r\nexport const changeLikeCardStatus = (cardId, like) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: like \r\n      ? \"PUT\"\r\n      : \"DELETE\",\r\n    headers: config.headers\r\n  })\r\n  .then((res) => getResponseData(res))\r\n};","import {changeLikeCardStatus} from \"./api\";\r\nimport { removeCard } from \"./api\";\r\n\r\nexport function likeCard(cardID, likeButton, likesCounter) {\r\n  const isLiked = likeButton.classList.contains('card__like-button_is-active');\r\n  changeLikeCardStatus(cardID, !isLiked)\r\n    .then((dataCard) => {\r\n      likeButton.classList.toggle('card__like-button_is-active');\r\n      likesCounter.textContent = dataCard.likes.length;\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка изменения статуса лайка: ${err}`)\r\n    })\r\n}\r\n\r\nexport function deleteCard(cardId, cardElement) {\r\n  removeCard(cardId, cardElement) \r\n    .then(() => {\r\n    cardElement.remove()\r\n    })\r\n  }\r\n\r\nexport function createCard(dataCard, { onDeleteCard, onLikeIcon, onPreviewPicture }, userId) {\r\n    \r\n  const cardTemplate = document.querySelector('#card-template').content;\r\n  const cardElement = cardTemplate.querySelector('.places__item').cloneNode(true);\r\n  const cardImage = cardElement.querySelector('.card__image');\r\n  const deleteButton = cardElement.querySelector('.card__delete-button');\r\n  const likeButton = cardElement.querySelector('.card__like-button');\r\n  const likesCounter = cardElement.querySelector('.likes-counter');\r\n  const zoomImg = cardElement.querySelector('.card__image');\r\n  \r\n  cardElement.querySelector('.card__title').textContent = dataCard.name;\r\n  cardImage.src = dataCard.link;\r\n  cardImage.alt = dataCard.name;\r\n\r\n  const isLiked = dataCard.likes.some((like) => {\r\n    like._id === userId}\r\n  );\r\n  \r\n  if (isLiked) \r\n    likeButton.classList.add('card__like-button_is-active');\r\n    likesCounter.textContent = dataCard.likes.length;\r\n\r\n  if (dataCard.owner._id === userId && onDeleteCard) {\r\n    deleteButton.addEventListener('click', () => {\r\n      onDeleteCard(dataCard._id, cardElement);\r\n    })\r\n  } else {\r\n    deleteButton.remove();\r\n  }\r\n\r\n  if (onLikeIcon) {\r\n    likeButton.addEventListener('click', () => \r\n      onLikeIcon(dataCard._id, likeButton, likesCounter)\r\n    );\r\n  }\r\n\r\n  if (onPreviewPicture) {\r\n    zoomImg.addEventListener('click', () => {\r\n      onPreviewPicture(dataCard.link, dataCard.name);\r\n    })\r\n  }\r\n\r\n  return cardElement;\r\n}\r\n\r\n","export function openPopup(form) {\r\n  form.classList.add('popup_is-opened');\r\n  closeKeyEscapeAdd(form);\r\n}\r\n\r\nexport function closePopup(form) {\r\n  document.removeEventListener('keydown', closeKeyEscape);\r\n  form.classList.remove('popup_is-opened');\r\n}\r\n\r\nconst closeKeyEscape = (evt) => {\r\n  const openedPopup = document.querySelector('.popup_is-opened');\r\n  if (evt.key === 'Escape') {\r\n    closePopup(openedPopup);\r\n  }\r\n}\r\nconst closeKeyEscapeAdd = (form) => {\r\n  document.addEventListener('keydown', closeKeyEscape);\r\n}","export const validationConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__input-error_visible'\r\n};\r\n\r\nfunction showInputError(formElement, inputElement, errorMessage, validationConfig) {\r\n  // Находим элемент ошибки внутри самой функции\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.add(validationConfig.inputErrorClass);\r\n  errorElement.textContent = errorMessage;\r\n  errorElement.classList.add(validationConfig.errorClass);\r\n};\r\n\r\nfunction hideInputError(formElement, inputElement, validationConfig) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.remove(validationConfig.inputErrorClass);\r\n  errorElement.classList.remove(validationConfig.errorClass);\r\n  errorElement.textContent = '';\r\n};\r\n\r\nfunction isValid(formElement, inputElement, validationConfig) {\r\n\tif (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else {\r\n    inputElement.setCustomValidity('');\r\n  }\r\n  if (!inputElement.validity.valid) {\r\n    showInputError(formElement, inputElement, inputElement.validationMessage, validationConfig);\r\n  } else {\r\n    hideInputError(formElement, inputElement, validationConfig);\r\n  }\r\n};\r\n\r\nfunction hasInvalidInput(inputList) {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  })\r\n};\r\n  \r\nfunction toggleButtonState(inputList, buttonElement, validationConfig) {\r\n  if (hasInvalidInput(inputList)) {\r\n    buttonElement.disabled = true;\r\n    buttonElement.classList.add(validationConfig.inactiveButtonClass);\r\n  } else {\r\n    buttonElement.disabled = false;\r\n    buttonElement.classList.remove(validationConfig.inactiveButtonClass);\r\n  }\r\n};\r\n\r\nfunction setEventListeners(formElement, validationConfig) {\r\n  const inputList = Array.from(formElement.querySelectorAll(validationConfig.inputSelector));\r\n  const buttonElement = formElement.querySelector(validationConfig.submitButtonSelector);\r\n\r\n  toggleButtonState(inputList, buttonElement, validationConfig);\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener('input', () => {\r\n      isValid(formElement, inputElement, validationConfig);\r\n      toggleButtonState(inputList, buttonElement, validationConfig);\r\n    });\r\n  });\r\n};\r\n\r\nexport function enableValidation(validationConfig) {\r\n  const formList = Array.from(document.querySelectorAll(validationConfig.formSelector));\r\n  formList.forEach((formElement) => {\r\n    setEventListeners(formElement, validationConfig);\r\n  });\r\n};\r\n\r\nexport function clearValidation(formElement, validationConfig) {\r\n  const inputList = Array.from(formElement.querySelectorAll(validationConfig.inputSelector));\r\n  inputList.forEach((inputElement) => {\r\n    isValid(formElement, inputElement, validationConfig);\r\n  });\r\n\r\n  const buttonElement = formElement.querySelector(validationConfig.submitButtonSelector);\r\n  buttonElement.disabled = true;\r\n  buttonElement.classList.add(validationConfig.inactiveButtonClass);\r\n};\r\n","import './pages/index.css';\r\nimport {createCard} from './components/card.js';\r\nimport {deleteCard} from './components/card.js';\r\nimport {likeCard} from './components/card.js';\r\nimport {openPopup} from './components/modal.js';\r\nimport {closePopup} from './components/modal.js';\r\nimport {validationConfig} from './components/validation.js';\r\nimport {enableValidation} from './components/validation.js';\r\nimport {clearValidation} from './components/validation.js';\r\nimport {getInitialCards} from './components/api.js';\r\nimport {getUserInfo} from './components/api.js';\r\nimport {renderCard} from './components/api.js';\r\nimport {setUserInfo} from './components/api.js';\r\nimport {setUserAvatar} from './components/api.js';\r\n\r\nconst placesList = document.querySelector('.places__list');\r\n\r\nconst profile = document.querySelector('.profile');\r\nconst editAvatar = document.querySelector('.profile__image')\r\nconst editButton = profile.querySelector('.profile__edit-button');\r\nconst addButton = profile.querySelector('.profile__add-button');\r\nconst profileName = profile.querySelector('.profile__title');\r\nconst profileDescription = profile.querySelector('.profile__description');\r\n\r\nconst popupEditAvatar = document.querySelector('.popup_type_new-avatar');\r\nconst popupEdit = document.querySelector('.popup_type_edit');\r\nconst popupAddCard = document.querySelector('.popup_type_new-card');\r\nconst popupImage = document.querySelector('.popup_type_image');\r\n\r\nconst formEditAvatar = popupEditAvatar.querySelector('.popup__form'); \r\nconst formEdit = popupEdit.querySelector('.popup__form');\r\nconst formAdd = popupAddCard.querySelector('.popup__form');\r\n\r\nconst avatarInputEdit = formEditAvatar.querySelector('.popup__input_type_avatar_url')\r\n\r\nconst nameInputEdit = formEdit.querySelector('.popup__input_type_name');\r\nconst descriptionInputEdit = formEdit.querySelector('.popup__input_type_description');\r\n\r\nconst inputPlace = popupAddCard.querySelector('.popup__input_type_card-name');\r\nconst inputUrl = popupAddCard.querySelector('.popup__input_type_url');\r\n\r\nconst imagePopupImg = popupImage.querySelector('.popup__image');\r\nconst imagePopupCaption = popupImage.querySelector('.popup__caption');\r\n\r\nconst popups = document.querySelectorAll('.popup');\r\n\r\nconst editAvatarSubmitButton = formEditAvatar.querySelector('.popup__button');\r\nconst editSubmitButton = formEdit.querySelector('.popup__button');\r\nconst addSubmitButton = formAdd.querySelector('.popup__button');\r\n\r\n\r\nlet userId = null;\r\n\r\n\r\npopups.forEach((element) => {\r\n  element.querySelector('.popup__close').addEventListener('click', () => {\r\n    closePopup(element);\r\n  });\r\n\r\n  element.addEventListener('mousedown', (evt) => {\r\n    if (evt.target.classList.contains('popup')) {\r\n      closePopup(element);\r\n    }\r\n  });\r\n})\r\n\r\nfunction zoomCard(link, name) {\r\n  imagePopupImg.src = link;\r\n  imagePopupImg.alt = name;\r\n  imagePopupCaption.textContent = name;\r\n  openPopup(popupImage);\r\n}\r\n\r\neditAvatar.addEventListener('click', () => {\r\n  openPopup(popupEditAvatar);\r\n  resetPopup(popupEditAvatar);\r\n  clearValidation(formEdit, validationConfig);\r\n  enableValidation(validationConfig);\r\n})\r\n\r\neditButton.addEventListener('click', () => {\r\n  openPopup(popupEdit);\r\n  nameInputEdit.value = profileName.textContent;\r\n  descriptionInputEdit.value = profileDescription.textContent;\r\n  clearValidation(formEdit, validationConfig);\r\n  enableValidation(validationConfig);\r\n})\r\n\r\naddButton.addEventListener('click', () => {\r\n  openPopup(popupAddCard);\r\n  resetPopup(popupAddCard);\r\n  clearValidation(formAdd, validationConfig);\r\n  enableValidation(validationConfig);\r\n})\r\n\r\nfunction resetPopup(form) {\r\n  if (form.querySelector('.popup__form')) {\r\n    form.querySelector('.popup__form').reset();\r\n  }\r\n}\r\n\r\nfunction handleFormEditAvatarSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  const originalButtonText = editAvatarSubmitButton.textContent;\r\n  editAvatarSubmitButton.textContent = 'Сохранение...'; \r\n  editAvatarSubmitButton.disabled = true;\r\n\r\n  setUserAvatar({avatar: avatarInputEdit.value}) \r\n    .then((res) => {\r\n      editAvatar.style.backgroundImage = `url(${res.avatar})`;\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Не удалось обновить аватар: ${err}`);\r\n    })\r\n    .finally(() => {\r\n      editAvatarSubmitButton.textContent = originalButtonText;\r\n      editAvatarSubmitButton.disabled = false;\r\n      closePopup(popupEditAvatar);\r\n    })\r\n};\r\n\r\nfunction handleFormEditSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  const originalButtonText = editSubmitButton.textContent;\r\n  editSubmitButton.textContent = 'Сохранение...'; \r\n  editSubmitButton.disabled = true;\r\n\r\n  setUserInfo({name: nameInputEdit.value, about: descriptionInputEdit.value})\r\n    .then((res) => {\r\n      profileName.textContent = res.name;  \r\n      profileDescription.textContent = res.about;\r\n      \r\n    })\r\n    .catch((err) => {\r\n      console.log(`Не удалось обновить данные профиля: ${err}`);\r\n    })\r\n    .finally(() => {\r\n      editSubmitButton.textContent = originalButtonText;\r\n      editSubmitButton.disabled = false;\r\n      closePopup(popupEdit);\r\n    }) \r\n};\r\n\r\nfunction handleFormAddSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  const originalButtonText = addSubmitButton.textContent;\r\n  addSubmitButton.textContent = 'Сохранение...'; \r\n  addSubmitButton.disabled = true;\r\n\r\n  renderCard({name: inputPlace.value, link: inputUrl.value})\r\n    .then((res) => {\r\n      const newCard = {\r\n        name: res.name,\r\n        link: res.link\r\n      }\r\n      const newCardElement = createCard(newCard, deleteCard, likeCard, zoomCard)\r\n      placesList.prepend(newCardElement)\r\n      \r\n    })\r\n    .catch((err) => {\r\n      console.log(`Не удалось создать новую карточку: ${err}`);\r\n    })\r\n    .finally(() => {\r\n      addSubmitButton.textContent = originalButtonText;\r\n      addSubmitButton.disabled = false;\r\n      closePopup(popupAddCard);\r\n    })\r\n};\r\n\r\nformEditAvatar.addEventListener('submit', handleFormEditAvatarSubmit);\r\nformEdit.addEventListener('submit', handleFormEditSubmit);\r\nformAdd.addEventListener('submit', handleFormAddSubmit);\r\n\r\nPromise.all([getInitialCards(), getUserInfo()])\r\n  .then(([cards, user]) => {\r\n    userId = user._id;\r\n    profileName.textContent = user.name;\r\n    profileDescription.textContent = user.about;\r\n    editAvatar.style.backgroundImage = `url(${user.avatar})`;\r\n\r\n    cards.forEach((dataCard) => {\r\n      const addCard = createCard(\r\n        dataCard, \r\n        {\r\n          onDeleteCard: deleteCard,\r\n          onLikeIcon: likeCard, \r\n          onPreviewPicture: zoomCard,\r\n        }, \r\n        userId\r\n      );\r\n      placesList.append(addCard)\r\n    });\r\n  })\r\n  .catch((err) => {\r\n    console.log(`Ошибка при загрузке: ${err}`);\r\n  })\r\n\r\n\r\n  \r\n "],"names":["config","baseUrl","headers","authorization","getResponseData","res","ok","json","Promise","reject","concat","status","likeCard","cardID","likeButton","likesCounter","cardId","like","classList","contains","fetch","method","then","dataCard","toggle","textContent","likes","length","catch","err","console","log","deleteCard","cardElement","removeCard","remove","createCard","_ref","userId","onDeleteCard","onLikeIcon","onPreviewPicture","document","querySelector","content","cloneNode","cardImage","deleteButton","zoomImg","name","src","link","alt","some","_id","add","owner","addEventListener","openPopup","form","closeKeyEscapeAdd","closePopup","removeEventListener","closeKeyEscape","evt","openedPopup","key","validationConfig","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","isValid","formElement","inputElement","validity","patternMismatch","setCustomValidity","dataset","errorMessage","valid","errorElement","id","hideInputError","showInputError","validationMessage","toggleButtonState","inputList","buttonElement","hasInvalidInput","disabled","enableValidation","Array","from","querySelectorAll","forEach","setEventListeners","clearValidation","placesList","profile","editAvatar","editButton","addButton","profileName","profileDescription","popupEditAvatar","popupEdit","popupAddCard","popupImage","formEditAvatar","formEdit","formAdd","avatarInputEdit","nameInputEdit","descriptionInputEdit","inputPlace","inputUrl","imagePopupImg","imagePopupCaption","popups","editAvatarSubmitButton","editSubmitButton","addSubmitButton","zoomCard","resetPopup","reset","element","target","value","preventDefault","_ref3","avatar","originalButtonText","body","JSON","stringify","style","backgroundImage","finally","_ref2","about","newCardElement","prepend","all","cards","user","addCard","append"],"sourceRoot":""}